# Paradex äº¤æ˜“æœºå™¨äººé›†æˆ

## æ¦‚è¿°

æˆåŠŸé›†æˆ Paradex äº¤æ˜“æ‰€ï¼Œæ”¯æŒ WebSocket å®æ—¶æ•°æ®å’Œè‡ªåŠ¨åŒ–äº¤æ˜“åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®ç°åŠŸèƒ½

- **WebSocket å®æ—¶æ•°æ®æµ**
  - ä»·æ ¼ç›‘æ§ (`watchTicker`)
  - è®¢å•ç°¿ç›‘æ§ (`watchOrderBook`)
  - æˆäº¤æ•°æ®ç›‘æ§ (`watchTrades`)

- **äº¤æ˜“ API æ”¯æŒ**
  - å¸‚åœºæ•°æ®è·å–
  - è´¦æˆ·ä½™é¢æŸ¥è¯¢
  - æŒä»“ä¿¡æ¯è·å–
  - è®¢å•ç®¡ç† (åˆ›å»ºã€æŸ¥è¯¢)
  - æˆäº¤è®°å½•æŸ¥è¯¢

- **è®¤è¯æ”¯æŒ**
  - API Key/Secret è®¤è¯
  - StarkNet é’±åŒ…è®¤è¯
  - æ²™ç®±æ¨¡å¼æ”¯æŒ

## æ–‡ä»¶ç»“æ„

```
/root/aster-bot/
â”œâ”€â”€ exchanges/paradex.ts           # Paradex API åŒ…è£…å™¨
â”œâ”€â”€ paradex-trading-bot.ts         # ä¸»è¦äº¤æ˜“æœºå™¨äºº
â”œâ”€â”€ test-paradex-websocket.ts      # WebSocket æµ‹è¯•è„šæœ¬
â”œâ”€â”€ test-paradex-perp.ts           # æ°¸ç»­åˆçº¦æµ‹è¯•è„šæœ¬
â””â”€â”€ .env.paradex.example           # ç¯å¢ƒå˜é‡æ¨¡æ¿
```

## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒé…ç½®

å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿ï¼š
```bash
cp .env.paradex.example .env.paradex
```

ç¼–è¾‘ `.env.paradex` æ–‡ä»¶ï¼š
```env
# æ²™ç®±æ¨¡å¼ (æµ‹è¯•ç”¨)
PARADEX_SANDBOX=true

# å®ç›˜æ¨¡å¼éœ€è¦çš„é…ç½®
PARADEX_API_KEY=your_api_key
PARADEX_SECRET=your_secret
PARADEX_PRIVATE_KEY=your_starknet_private_key
PARADEX_WALLET_ADDRESS=your_wallet_address
```

### 2. æµ‹è¯•è¿æ¥

æµ‹è¯• WebSocket è¿æ¥ï¼š
```bash
npm run test:paradex-ws
# æˆ–
npx tsx test-paradex-websocket.ts
```

æµ‹è¯•æ°¸ç»­åˆçº¦ï¼š
```bash
npx tsx test-paradex-perp.ts
```

### 3. å¯åŠ¨äº¤æ˜“æœºå™¨äºº

```bash
# ä½¿ç”¨ npm script
npm run paradex

# æˆ–ç›´æ¥è¿è¡Œ
npx tsx paradex-trading-bot.ts
```

## æŠ€æœ¯å®ç°

### WebSocket é›†æˆ

åŸºäº CCXT Pro åº“å®ç°ï¼Œæ”¯æŒï¼š
- è‡ªåŠ¨é‡è¿æœºåˆ¶
- é”™è¯¯å¤„ç†å’Œæ¢å¤
- å¤šäº¤æ˜“å¯¹åŒæ—¶ç›‘æ§
- å®æ—¶ä»·æ ¼æ¨é€

```typescript
// ä»·æ ¼ç›‘æ§ç¤ºä¾‹
await paradexAPI.watchTicker('BTC/USD:USDC', (ticker) => {
  console.log(`ä»·æ ¼: $${ticker.lastPrice}`);
  console.log(`ä¹°ä»·: $${ticker.bid} | å–ä»·: $${ticker.ask}`);
});
```

### äº¤æ˜“åŠŸèƒ½

```typescript
// åˆ›å»ºå¸‚ä»·å•
const order = await paradexAPI.createMarketOrder(
  'BTC/USD:USDC',
  'buy',
  0.01,  // 0.01 BTC
  currentPrice
);

// è·å–æŒä»“
const positions = await paradexAPI.fetchPositions();

// è·å–ä½™é¢
const balance = await paradexAPI.fetchBalance();
```

## æµ‹è¯•ç»“æœ

### WebSocket æ€§èƒ½æµ‹è¯•

âœ… **è¿æ¥æµ‹è¯•æˆåŠŸ**
- æ”¯æŒäº¤æ˜“å¯¹æ•°é‡ï¼š376ä¸ª
- BTC æ°¸ç»­åˆçº¦ä»·æ ¼ï¼š~$117,500 (å®æ—¶)
- æ›´æ–°é¢‘ç‡ï¼š~0.2 æ¬¡/ç§’
- å»¶è¿Ÿï¼š< 1ç§’
- è¿æ¥ç¨³å®šæ€§ï¼šä¼˜ç§€

### æ•°æ®è´¨é‡

- âœ… ä»·æ ¼æ•°æ®å‡†ç¡®
- âœ… ä¹°å–ä»·å·®åˆç†
- âœ… æ—¶é—´æˆ³æ­£ç¡®
- âœ… ç¬¦å·æ ¼å¼æ ‡å‡†

## å¯ç”¨äº¤æ˜“å¯¹

Paradex æ”¯æŒå¤šç§èµ„äº§ç±»å‹ï¼š

### æ°¸ç»­åˆçº¦
- BTC/USD:USDC (ä¸»è¦)
- ETH/USD:USDC
- å…¶ä»–ä¸»æµå¸ç§æ°¸ç»­åˆçº¦

### æœŸæƒåˆçº¦
- BTC/USD:USDC-[åˆ°æœŸæ—¥]-[æ‰§è¡Œä»·]-[C/P]
- å¤šç§æ‰§è¡Œä»·å’Œåˆ°æœŸæ—¶é—´

## é£é™©ç®¡ç†

äº¤æ˜“æœºå™¨äººå†…ç½®é£é™©æ§åˆ¶ï¼š

- **æŒä»“é™åˆ¶**: æœ€å¤§3ä¸ªæŒä»“
- **æ—¥äº¤æ˜“é™åˆ¶**: æœ€å¤š20ç¬”/å¤©
- **æ­¢æŸæœºåˆ¶**: 2% æ­¢æŸ
- **æ­¢ç›ˆæœºåˆ¶**: 5% æ­¢ç›ˆ
- **äº¤æ˜“æ—¶é—´**: UTC 9:00-17:00

## é…ç½®å‚æ•°

ä¸»è¦é…ç½®åœ¨ `paradex-trading-bot.ts` ä¸­ï¼š

```typescript
const TRADING_CONFIG = {
  symbol: 'BTC/USD:USDC',        // äº¤æ˜“å¯¹
  tradeAmount: 0.01,             // äº¤æ˜“é‡
  priceThreshold: 50,            // ä»·æ ¼é˜ˆå€¼
  spreadThreshold: 0.1,          // ä»·å·®é˜ˆå€¼
  maxPositions: 3,               // æœ€å¤§æŒä»“
  stopLoss: 0.02,                // æ­¢æŸæ¯”ä¾‹
  takeProfit: 0.05,              // æ­¢ç›ˆæ¯”ä¾‹
  maxDailyTrades: 20,            // æ—¥äº¤æ˜“é™åˆ¶
  tradingHours: { start: 9, end: 17 }  // äº¤æ˜“æ—¶é—´
};
```

## ç›‘æ§å’Œæ—¥å¿—

æœºå™¨äººæä¾›å®æ—¶ç›‘æ§ä¿¡æ¯ï¼š

```
ğŸ“Š [5:08:21 PM] BTC/USD:USDC: $117496.90 | æŒä»“: 2 | ä»Šæ—¥äº¤æ˜“: 15
ğŸ¯ äº¤æ˜“ä¿¡å·: ğŸŸ¢ çœ‹æ¶¨
   ä»·æ ¼: $117520.50
   ä¿¡å·å¼ºåº¦: 85.32
ğŸ“Š è¿è¡ŒçŠ¶æ€ (2.3å°æ—¶):
   å½“å‰ä»·æ ¼: $117520.50
   æŒä»“æ•°é‡: 2
   æœªå®ç°ç›ˆäº: $45.67
   ä»Šæ—¥äº¤æ˜“: 15/20
   æ€»äº¤æ˜“æ¬¡æ•°: 28
```

## æ³¨æ„äº‹é¡¹

1. **æ²™ç®±æ¨¡å¼**
   - æµ‹è¯•ç¯å¢ƒï¼Œæ— éœ€çœŸå®èµ„é‡‘
   - API è¿æ¥å¯èƒ½ä¸ç¨³å®š
   - æ•°æ®ä»…ä¾›æµ‹è¯•ä½¿ç”¨

2. **å®ç›˜æ¨¡å¼**
   - éœ€è¦çœŸå®çš„ Paradex API å‡­è¯
   - æ¶‰åŠçœŸå®èµ„é‡‘äº¤æ˜“
   - è¯·ç¡®ä¿å……åˆ†æµ‹è¯•åä½¿ç”¨

3. **StarkNet é›†æˆ**
   - Paradex åŸºäº StarkNet
   - éœ€è¦é…ç½® StarkNet é’±åŒ…
   - æ”¯æŒç§é’¥å’Œé’±åŒ…åœ°å€è®¤è¯

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **WebSocket è¿æ¥å¤±è´¥**
   ```bash
   # æ£€æŸ¥ç½‘ç»œè¿æ¥
   # ç¡®è®¤ ccxt ç‰ˆæœ¬ >= 4.4.88
   npm install ccxt@latest
   ```

2. **API è®¤è¯å¤±è´¥**
   ```bash
   # æ£€æŸ¥ .env.paradex é…ç½®
   # ç¡®è®¤ API å¯†é’¥æ ¼å¼æ­£ç¡®
   ```

3. **äº¤æ˜“å¯¹ä¸å­˜åœ¨**
   ```bash
   # è¿è¡Œå¸‚åœºæ£€æŸ¥
   npx tsx -e "
   import {Paradex} from './exchanges/paradex.js';
   const p = new Paradex({sandbox:true});
   console.log(Object.keys(await p.loadMarkets()));
   "
   ```

## æ€§èƒ½ä¼˜åŒ–

- WebSocket è¿æ¥æ± ç®¡ç†
- ä»·æ ¼æ•°æ®ç¼“å­˜æœºåˆ¶
- è‡ªåŠ¨é‡è¿å’Œé”™è¯¯æ¢å¤
- å†…å­˜ä½¿ç”¨ä¼˜åŒ–

## æœªæ¥è®¡åˆ’

- [ ] é«˜çº§äº¤æ˜“ç­–ç•¥é›†æˆ
- [ ] å¤šäº¤æ˜“å¯¹å¥—åˆ©åŠŸèƒ½
- [ ] é£é™©ç®¡ç†ä¼˜åŒ–
- [ ] æ€§èƒ½ç›‘æ§ä»ªè¡¨æ¿
- [ ] å›æµ‹åŠŸèƒ½
- [ ] é…ç½®æ–‡ä»¶çƒ­é‡è½½

## æŠ€æœ¯æ”¯æŒ

- **CCXT Pro**: WebSocket æ”¯æŒ
- **TypeScript**: ç±»å‹å®‰å…¨
- **ç¯å¢ƒå˜é‡**: é…ç½®ç®¡ç†
- **PM2 å…¼å®¹**: è¿›ç¨‹ç®¡ç†

---

**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª
**æœ€åæ›´æ–°**: 2025-01-01
**ç»´æŠ¤è€…**: aster-bot å›¢é˜Ÿ